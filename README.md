# 猫池短信管理系统

一个基于Python和Tkinter开发的猫池短信管理系统，支持多端口管理、任务调度、状态监控等功能。

## ⚠️ 重要声明

**本项目仅供技术研究和学习使用，严禁用于违法违规活动。使用本软件所产生的一切法律责任由使用者承担。**

## 功能特性

### 🔌 端口管理
- 自动扫描串口设备
- 支持多端口并发操作
- 实时状态监控
- 设备连接管理

### 📝 任务管理
- 可视化任务创建和编辑
- 支持批量号码导入
- 任务进度实时跟踪
- 灵活的任务调度

### 📊 状态监控
- 实时发送统计
- 端口状态监控
- 详细日志记录
- 告警机制

### ⚙️ 配置管理
- 灵活的参数配置
- 配置文件导入导出
- 快速设置面板
- 高级配置选项

## 系统要求

- Python 3.7+
- Windows/Linux/macOS
- 串口设备（猫池）

## 安装说明

### 1. 克隆项目
```bash
git clone <repository-url>
cd catpool_sms
```

### 2. 安装依赖
```bash
pip install -r requirements.txt
```

### 3. 运行程序
```bash
python app.py
```

## 项目结构

```
catpool_sms/
├── app.py                  # 主程序入口
├── README.md               # 项目说明文档
├── requirements.txt        # 依赖库
├── config/                 # 配置相关
│   └── settings.py         # 设置管理
├── core/                   # 核心后端功能
│   ├── port_manager.py     # 猫池端口管理
│   ├── task_manager.py     # 短信任务管理
│   ├── message_sender.py   # 短信发送实现
│   ├── monitor.py          # 状态监控与日志
│   └── utils.py            # 常用工具函数
├── ui/                     # 前端/界面
│   ├── main_window.py      # 主界面
│   ├── port_panel.py       # 端口管理面板
│   ├── task_panel.py       # 任务管理面板
│   ├── config_panel.py     # 参数配置面板
│   └── widgets.py          # 通用控件
├── static/                 # 静态文件
├── tests/                  # 单元测试
├── logs/                   # 日志文件目录
└── docs/                   # 项目文档
```

## 使用指南

### 基本操作流程

1. **端口管理**
   - 启动程序后，系统会自动扫描可用串口
   - 在右侧"串口管理"面板中选择要使用的端口
   - 点击状态按钮启动端口

2. **创建任务**
   - 在左侧"任务列表"面板点击"添加任务"
   - 填写任务名称、目标号码、短信内容等信息
   - 点击"提交"创建任务

3. **执行任务**
   - 右键点击任务，选择"开始任务"
   - 系统会自动分配可用端口执行发送
   - 可实时查看任务进度和发送状态

4. **监控状态**
   - 在状态栏可查看实时统计信息
   - 日志文件记录详细的操作历史
   - 支持导出统计报告

### 高级功能

#### 批量操作
- 支持从CSV/TXT文件导入号码
- 批量任务导入导出
- 批量端口管理

#### 配置管理
- 发送间隔、重试次数等参数配置
- 监控告警设置
- 邮件通知配置

#### 数据管理
- 任务数据持久化存储
- 配置文件备份恢复
- 日志文件管理

## 配置说明

### 基本配置

| 参数 | 说明 | 默认值 |
|------|------|--------|
| send_interval | 发送间隔（毫秒） | 1000 |
| card_switch | 卡片更换条数 | 60 |
| success_threshold | 成功阈值 | 1000 |
| retry_count | 重试次数 | 3 |

### 高级配置

可通过"工具"菜单中的"系统配置"进行详细设置，支持：
- 并发控制
- 监控告警
- 邮件通知
- 日志等级

## 开发说明

### 代码结构

- `config/` - 配置管理模块
- `core/` - 核心业务逻辑
- `ui/` - 用户界面组件
- `static/` - 静态资源文件
- `tests/` - 单元测试

### 扩展开发

系统采用模块化设计，便于功能扩展：

1. **添加新的端口类型**：在`core/utils.py`中扩展`SmsDevice`类
2. **自定义UI组件**：在`ui/widgets.py`中添加新控件
3. **扩展配置选项**：修改`config/settings.py`
4. **添加监控指标**：扩展`core/monitor.py`

## 常见问题

### Q: 端口扫描不到设备怎么办？
A: 
- 检查设备连接和驱动
- 确认端口未被其他程序占用
- 手动刷新端口列表

### Q: 发送失败率很高怎么办？
A:
- 检查设备信号强度
- 调整发送间隔
- 验证SIM卡状态

### Q: 程序崩溃或异常退出？
A:
- 查看logs目录下的错误日志
- 检查系统资源使用情况
- 重启程序和设备

## 技术支持

如遇到问题或需要技术支持，请：

1. 查看`logs/`目录下的日志文件
2. 检查配置文件是否正确
3. 参考项目文档
4. 提交Issue（如果是开源项目）

## 许可证

本项目仅供学习研究使用，请遵守相关法律法规。

## 更新日志

### v1.9.0-rc.1
- 初始版本发布
- 支持基本的端口管理和任务调度
- 实现状态监控和日志记录
- 提供可视化界面

---

**再次提醒：本软件仅供技术研究和学习使用，严禁用于违法违规活动！**